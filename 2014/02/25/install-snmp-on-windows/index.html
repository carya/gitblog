
<!DOCTYPE html>
<html lang="en,zh-CN,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="CaryaLiu&#39;s blog">
    <title>Windows上安装Net-SNMP5.7 - CaryaLiu&#39;s blog</title>
    <meta name="author" content="CaryaLiu">
    
        <meta name="keywords" content="snmp,install,windows">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"CaryaLiu","sameAs":[],"image":"header.png"},"articleBody":"本文简要记录了在Windows上安装 net-snmp\r\n5.7.1的步骤，最新的源码包可上net-snmp官方网站下载。\r\n安装net-snmp 5.7.1之前需要先安装\r\n\r\nVS2010\r\nWin32\r\nOpenSSL v1.0.1f\r\nActivePerl\r\n5.16.3\r\n\r\n\r\n安装步骤如下:\r\n\r\n停止Windows7系统自带的Windows SNMP Service，在\r\n我的电脑-&gt; 管理 -&gt;\r\n服务中可以找到 SNMP Service。\r\n打开命令行终端cmd,或者PowerCMD，any other you like\r\n如果build\r\nOpenSSL，设置INCLUDE和LIB，使其指向合适OpenSSL安装目录，如下面所示:\r\n\r\n12E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;set INCLUDE=C:\\OpenSSL-Win32\\includeE:\\install_snmp\\net-snmp-5.7.1\\win32&gt;set LIB=C:\\OpenSSL-Win32\\lib\\VC\\static\r\n\r\n运行vcvarsall.bat初始化 Visual Studio build\r\nenvironment, 该脚本可在Visual Studio的安装目录中找到:\r\n\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;&quot;C:\\Program Files\\Microsoft Visual Studio 10.0\\VC\\vcvarsall.bat&quot;\r\n\r\n运行源码包中的win32\\build.bat:\r\n\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;build.bat\r\n预期会在屏幕上出现设置向导，最终结果如下，需要注意的是要 enable\r\nwinExtDLL agent，否则会有一些常用MIB无法获取:\r\n123456789101112131415161718192021222324Net-SNMP build and install options==================================1.  OpenSSL support:                enabled2.  Platform SDK support:           enabled3.  Install path:                   c:/usr4.  Install after build:            enabled5.  Perl modules:                   enabled6.  Install perl modules:           enabled7.  Quiet build (logged):           enabled8.  Debug mode:                     disabled9.  IPv6 transports (requires SDK): disabled10. winExtDLL agent (requires SDK): enabled11. Link type:                      static12. Install development files       disabledF.  Finished - start buildQ.  Quit - abort build\r\n\r\nbuild结束后会出现一个运行脚本的提示，按照提示运行，然后运行源代码包中的install-net-snmp.bat脚本。\r\n\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;install-net-snmp.bat\r\n\r\n在PATH环境变量中加入net-snmp的bin目录，使其可以直接在终端运行snmp命令。\r\n检测net-snmp的版本:\r\n\r\n12E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;snmpd -vE:\\install_snmp\\net-snmp-5.7.1\\win32&gt;snmpwalk --version\r\n\r\n将net-snmp注册为Windows服务:\r\n\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;snmpd -register \r\nun-register the service:\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;snmpd -unregister\r\n\r\n启动net-snmp:\r\n\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;net start &quot;Net-SNMP Agent&quot;\r\n停止net-snmp可用如下命令:\r\n1E:\\install_snmp\\net-snmp-5.7.1\\win32&gt;net stop &quot;Net-SNMP Agent&quot;\r\n上述操作参考net-snmp源代码包中README.win32文档，如有疑问可直接查看此文档。\r\n\r\n目前已转行教育行业，欢迎加微信交流：CaryaLiu\r\n","dateCreated":"2014-02-25T20:16:45+08:00","dateModified":"2024-10-21T22:25:56+08:00","datePublished":"2014-02-25T20:16:45+08:00","description":"本文简要记录了在Windows上安装 net-snmp\r\n5.7.1的步骤，最新的源码包可上net-snmp官方网站下载。\r\n安装net-snmp 5.7.1之前需要先安装\r\n\r\nVS2010\r\nWin32\r\nOpenSSL v1.0.1f\r\nActivePerl\r\n5.16.3\r\n","headline":"Windows上安装Net-SNMP5.7","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://liumh.com/2014/02/25/install-snmp-on-windows/"},"publisher":{"@type":"Organization","name":"CaryaLiu","sameAs":[],"image":"header.png","logo":{"@type":"ImageObject","url":"header.png"}},"url":"http://liumh.com/2014/02/25/install-snmp-on-windows/","keywords":"snmp, snmpd"}</script>
    <meta name="description" content="本文简要记录了在Windows上安装 net-snmp 5.7.1的步骤，最新的源码包可上net-snmp官方网站下载。 安装net-snmp 5.7.1之前需要先安装  VS2010 Win32 OpenSSL v1.0.1f ActivePerl 5.16.3">
<meta property="og:type" content="blog">
<meta property="og:title" content="Windows上安装Net-SNMP5.7">
<meta property="og:url" content="http://liumh.com/2014/02/25/install-snmp-on-windows/index.html">
<meta property="og:site_name" content="CaryaLiu&#39;s blog">
<meta property="og:description" content="本文简要记录了在Windows上安装 net-snmp 5.7.1的步骤，最新的源码包可上net-snmp官方网站下载。 安装net-snmp 5.7.1之前需要先安装  VS2010 Win32 OpenSSL v1.0.1f ActivePerl 5.16.3">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2014-02-25T12:16:45.000Z">
<meta property="article:modified_time" content="2024-10-21T14:25:56.694Z">
<meta property="article:author" content="CaryaLiu">
<meta property="article:tag" content="snmp">
<meta property="article:tag" content="snmpd">
<meta name="twitter:card" content="summary">
    
    
        
    
    
        <meta property="og:image" content="http://liumh.com/assets/images/header.png"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-zpenvh5cbgb1vzzlq3akzblrroxrej3zx0naeyxu1vn9s3kx3bsq9s1rbqce.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            CaryaLiu&#39;s blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">CaryaLiu</h4>
                
                    <h5 class="sidebar-profile-bio"><p><span class="citation"
data-cites="Chengdu">@Chengdu</span>，WeChat：CaryaLiu</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Windows上安装Net-SNMP5.7
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2014-02-25T20:16:45+08:00">
	
		    Feb 25, 2014
    	
    </time>
    
        <span>in </span>
        
    <a class="category-link" href="/categories/%E7%B3%BB%E7%BB%9F%E8%BF%90%E7%BB%B4/">系统运维</a>


    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>本文简要记录了在Windows上安装 net-snmp
5.7.1的步骤，最新的源码包可上<a target="_blank" rel="noopener" href="http://www.net-snmp.org/"
title="snmp官网">net-snmp官方网站</a>下载。</p>
<p>安装net-snmp 5.7.1之前需要先安装</p>
<ol type="1">
<li><a target="_blank" rel="noopener" href="http://xoyozo.me/blog/vs2010.html">VS2010</a></li>
<li><a target="_blank" rel="noopener" href="http://slproweb.com/products/Win32OpenSSL.html">Win32
OpenSSL v1.0.1f</a></li>
<li><a target="_blank" rel="noopener" href="http://www.activestate.com/activeperl/downloads">ActivePerl
5.16.3</a></li>
</ol>
<span id="more"></span>
<p>安装步骤如下:</p>
<ol type="1">
<li><p>停止Windows7系统自带的Windows SNMP Service，在
<code>我的电脑</code>-&gt; <code>管理</code> -&gt;
<code>服务</code>中可以找到 SNMP Service。</p></li>
<li><p>打开命令行终端cmd,或者PowerCMD，any other you like</p></li>
<li><p>如果build
OpenSSL，设置INCLUDE和LIB，使其指向合适OpenSSL安装目录，如下面所示:</p></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;set INCLUDE=C:\OpenSSL-Win32\include</span><br><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;set LIB=C:\OpenSSL-Win32\lib\VC\static</span><br></pre></td></tr></table></figure>
<ol start="4" type="1">
<li>运行<code>vcvarsall.bat</code>初始化 Visual Studio build
environment, 该脚本可在Visual Studio的安装目录中找到:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;&quot;C:\Program Files\Microsoft Visual Studio 10.0\VC\vcvarsall.bat&quot;</span><br></pre></td></tr></table></figure>
<ol start="5" type="1">
<li>运行源码包中的<code>win32\build.bat</code>:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;build.bat</span><br></pre></td></tr></table></figure>
<p>预期会在屏幕上出现设置向导，最终结果如下，需要注意的是要 enable
winExtDLL agent，否则会有一些常用MIB无法获取:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">Net-SNMP build and install options</span><br><span class="line">==================================</span><br><span class="line"></span><br><span class="line">1.  OpenSSL support:                enabled</span><br><span class="line">2.  Platform SDK support:           enabled</span><br><span class="line"></span><br><span class="line">3.  Install path:                   c:/usr</span><br><span class="line">4.  Install after build:            enabled</span><br><span class="line"></span><br><span class="line">5.  Perl modules:                   enabled</span><br><span class="line">6.  Install perl modules:           enabled</span><br><span class="line"></span><br><span class="line">7.  Quiet build (logged):           enabled</span><br><span class="line">8.  Debug mode:                     disabled</span><br><span class="line"></span><br><span class="line">9.  IPv6 transports (requires SDK): disabled</span><br><span class="line">10. winExtDLL agent (requires SDK): enabled</span><br><span class="line"></span><br><span class="line">11. Link type:                      static</span><br><span class="line"></span><br><span class="line">12. Install development files       disabled</span><br><span class="line"></span><br><span class="line">F.  Finished - start build</span><br><span class="line">Q.  Quit - abort build</span><br></pre></td></tr></table></figure>
<ol start="6" type="1">
<li>build结束后会出现一个运行脚本的提示，按照提示运行，然后运行源代码包中的<code>install-net-snmp.bat</code>脚本。</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;install-net-snmp.bat</span><br></pre></td></tr></table></figure>
<ol start="7" type="1">
<li><p>在PATH环境变量中加入net-snmp的bin目录，使其可以直接在终端运行snmp命令。</p></li>
<li><p>检测net-snmp的版本:</p></li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;snmpd -v</span><br><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;snmpwalk --version</span><br></pre></td></tr></table></figure>
<ol start="9" type="1">
<li>将net-snmp注册为Windows服务:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;snmpd -register </span><br></pre></td></tr></table></figure>
<p>un-register the service:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;snmpd -unregister</span><br></pre></td></tr></table></figure>
<ol start="10" type="1">
<li>启动net-snmp:</li>
</ol>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;net start &quot;Net-SNMP Agent&quot;</span><br></pre></td></tr></table></figure>
<p>停止net-snmp可用如下命令:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">E:\install_snmp\net-snmp-5.7.1\win32&gt;net stop &quot;Net-SNMP Agent&quot;</span><br></pre></td></tr></table></figure>
<p>上述操作参考net-snmp源代码包中README.win32文档，如有疑问可直接查看此文档。</p>
<hr />
<p>目前已转行教育行业，欢迎加微信交流：CaryaLiu</p>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/snmp/" rel="tag">snmp</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/snmpd/" rel="tag">snmpd</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2014/03/14/snmp-vacm-mask/"
                    data-tooltip="对Net-SNMP访问权限控制VACM中mask的理解"
                    aria-label="PREVIOUS: 对Net-SNMP访问权限控制VACM中mask的理解"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2014/02/13/calculate-size-of-linux-disk/"
                    data-tooltip="利用64bit的mibs计算Linux设备的存储大小"
                    aria-label="NEXT: 利用64bit的mibs计算Linux设备的存储大小"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2024 CaryaLiu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2014/03/14/snmp-vacm-mask/"
                    data-tooltip="对Net-SNMP访问权限控制VACM中mask的理解"
                    aria-label="PREVIOUS: 对Net-SNMP访问权限控制VACM中mask的理解"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2014/02/13/calculate-size-of-linux-disk/"
                    data-tooltip="利用64bit的mibs计算Linux设备的存储大小"
                    aria-label="NEXT: 利用64bit的mibs计算Linux设备的存储大小"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">CaryaLiu</h4>
        
            <div id="about-card-bio"><p><span class="citation"
data-cites="Chengdu">@Chengdu</span>，WeChat：CaryaLiu</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Teacher</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Chengdu
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-cs5ywvosncuchmfbylvxzu6rf0pcfv37ilsjrqcvnjbcjeqx9g2hzm1ygmp1.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
