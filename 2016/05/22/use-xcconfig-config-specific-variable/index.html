
<!DOCTYPE html>
<html lang="en,zh-CN,default">
    
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="CaryaLiu&#39;s blog">
    <title>Xcodeä½¿ç”¨xcconfigæ–‡ä»¶é…ç½®ç¯å¢ƒ - CaryaLiu&#39;s blog</title>
    <meta name="author" content="CaryaLiu">
    
    
    
        
            <link rel="alternate" type="application/atom+xml" title="RSS" href="/atom.xml">
        
    
    <script type="application/ld+json">{"@context":"http://schema.org","@type":"BlogPosting","author":{"@type":"Person","name":"CaryaLiu","sameAs":[],"image":"header.png"},"articleBody":"ä¸å…¬å¸ QA\r\nèŠå¤©ï¼Œå·²ä¸æ­¢ä¸€æ¬¡è¢«åæ§½è¯´ç§»åŠ¨ç«¯ä»å¼€å‘ç¯å¢ƒè½¬åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œè¿˜è¦é ä¿®æ”¹ä»£ç æ¥é…ç½®å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚å¥¹è®¤ä¸ºï¼Œä»\r\nApp\r\nè½¬æµ‹è¯•ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç¯å¢ƒé…ç½®éƒ½æ•´åˆåˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰“ä¸åŒç¯å¢ƒä¸‹çš„å®‰è£…åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚è¿™é‡Œè¯´åˆ°çš„ç¯å¢ƒå‚æ•°åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š\r\nwebservice åœ°å€ï¼Œå‹ç›Ÿ AppKeyï¼Œæå…‰æ¨é€ AppKey\r\nå’Œæ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒæ ‡å¿—ç­‰ã€‚\r\nå…¶å®ï¼Œæˆ‘ä¹Ÿè®¨åŒä¿®æ”¹ç¯å¢ƒå‚æ•°å•Šï¼ŒğŸ˜‚\r\nä¸ºè¾¾æˆä¸Šè¿°ç›®çš„ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ Xcode çš„ Configurations Setting\r\nFile(å³åç¼€ä¸º xcconfig æ–‡ä»¶)\r\næ¥é…ç½®å¼€å‘ä¸åŒé˜¶æ®µä¸‹çš„ç¯å¢ƒã€‚æœ¬æ–‡åŒ…å«çš„å†…å®¹å¦‚ä¸‹:\r\n\r\n\r\nXcode Target\r\nXcode Project\r\nBuild Settingçš„ç»§æ‰¿å…³ç³»\r\nå¦‚ä½•ä½¿ç”¨xcconfigæ–‡ä»¶æ¥é…ç½®ä¸åŒå¼€å‘é˜¶æ®µçš„ç¯å¢ƒ\r\n\r\nåŒ…å«äº†ä¸€äº›ä¸ build settings ç›¸å…³çš„çŸ¥è¯†ã€‚\r\nXcode Target\r\ntarget, å®˜æ–¹æ–‡æ¡£å¦‚ä¸‹è§£é‡Š:\r\n\r\nA target specifies a product to build and contains the instructions\r\nfor building the product from a set of files in a project or workspace.\r\nA target defines a single product; it organizes the inputs into the\r\nbuild systemâ€”the source files and instructions for processing those\r\nsource filesâ€”required to build that product. Projects can contain one or\r\nmore targets, each of which produces one product.\r\n\r\ntarget å®šä¹‰äº†ç”Ÿæˆçš„å”¯ä¸€ product, å®ƒå°†æ„å»ºè¯¥ product\r\næ‰€éœ€çš„æ–‡ä»¶å’Œå¤„ç†è¿™äº›æ–‡ä»¶æ‰€éœ€çš„æŒ‡ä»¤é›†æ•´åˆè¿› build system ä¸­ã€‚Projects\r\nä¼šåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ª targets,æ¯ä¸€ä¸ª target å°†ä¼šäº§å‡ºä¸€ä¸ª product.\r\n\r\nThe instructions for building a product take the form of build\r\nsettings and build phases, which you can examine and edit in the Xcode\r\nproject editor. A target inherits the project build settings, but\r\nyou can override any of the project settings by specifying different\r\nsettings at the target level. There can be only one active target\r\nat a time; the Xcode scheme specifies the active target.\r\n\r\nè¿™äº›æŒ‡ä»¤ä»¥ build setting å’Œ build phases çš„å½¢å¼å­˜åœ¨ï¼Œä½ å¯åœ¨ Xcode\r\nçš„é¡¹ç›®ç¼–è¾‘å™¨(TARGETS-&gt;Build Setting, TARGETS-&gt;Build\r\nPhases)ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚target ä¸­çš„ build setting å‚æ•°ç»§æ‰¿è‡ª\r\nproject çš„ build settings, ä½†æ˜¯ä½ å¯ä»¥åœ¨ target ä¸­ä¿®æ”¹ä»»æ„ settings\r\næ¥é‡å†™ project settingsï¼Œè¿™æ ·ï¼Œæœ€ç»ˆç”Ÿæ•ˆçš„ settings å‚æ•°ä»¥åœ¨ target\r\nä¸­è®¾ç½®çš„ä¸ºå‡†. Project å¯åŒ…å«å¤šä¸ª target, ä½†æ˜¯åœ¨åŒä¸€æ—¶åˆ»ï¼Œåªä¼šæœ‰ä¸€ä¸ª\r\ntarget ç”Ÿæ•ˆï¼Œå¯ç”¨ Xcode çš„ scheme æ¥æŒ‡å®šæ˜¯å“ªä¸€ä¸ª target ç”Ÿæ•ˆ.\r\n\r\nA target and the product it creates can be related to another target.\r\nIf a target requires the output of another target in order to build, the\r\nfirst target is said to depend upon the second. If both targets are in\r\nthe same workspace, Xcode can discover the dependency, in which case it\r\nbuilds the products in the required order. Such a relationship is\r\nreferred to as an implicit dependency. You can also specify explicit\r\ntarget dependencies in your build settings, and you can specify that two\r\ntargets that Xcode might expect to have an implicit dependency are\r\nactually not dependent. For example, you might build both a library and\r\nan application that links against that library in the same workspace.\r\nXcode can discover this relationship and automatically build the library\r\nfirst. However, if you actually want to link against a version of the\r\nlibrary other than the one built in the workspace, you can create an\r\nexplicit dependency in your build settings, which overrides this\r\nimplicit dependency.\r\n\r\ntarget å’Œå…¶ç”Ÿæˆçš„ product å¯ä¸å¦ä¸€ä¸ª target æœ‰å…³ï¼Œå¦‚æœä¸€ä¸ª target çš„\r\nbuild ä¾èµ–äºå¦ä¸€ä¸ª target çš„è¾“å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´å‰ä¸€ä¸ª target ä¾èµ–äºåä¸€ä¸ª\r\ntarget .å¦‚æœè¿™äº› target åœ¨åŒä¸€ä¸ª workspace ä¸­ï¼Œé‚£ä¹ˆ Xcode\r\nèƒ½å¤Ÿå‘ç°è¿™ç§ä¾èµ–å…³ç³»ï¼Œä»è€Œä½¿å…¶ä»¥æˆ‘ä»¬æœŸæœ›çš„é¡ºåºç”Ÿæˆ\r\nproducts.è¿™ç§å…³ç³»è¢«ç§°ä¸ºéšå¼ä¾èµ–å…³ç³»ã€‚åŒæ—¶ï¼Œä½ å¯ä»¥æ˜¾ç¤ºæŒ‡å®š targets\r\nä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”è¿™ç§ä¾èµ–å…³ç³»ä¼šè¦†ç›– Xcode æ¨æµ‹å‡ºçš„éšå¼ä¾èµ–å…³ç³»ã€‚\r\næŒ‡å®š targets ä¹‹é—´çš„ä¾èµ–å…³ç³»çš„åœ°æ–¹åœ¨ Project\r\nEditor-&gt;TRAGETS-&gt;Build Phases-&gt;Target Dependencies å¤„è®¾ç½®ã€‚\r\nXcode Project\r\nå®˜æ–¹æ–‡æ¡£çš„è§£é‡Šå¦‚ä¸‹:\r\n\r\nAn Xcode project is a repository for all the files, resources, and\r\ninformation required to build one or more software products. A project\r\ncontains all the elements used to build your products and maintains the\r\nrelationships between those elements. It contains one or more targets,\r\nwhich specify how to build products. A project defines default build\r\nsettings for all the targets in the project (each target can also\r\nspecify its own build settings, which override the project build\r\nsettings).\r\n\r\nXcode project\r\næ˜¯ä¸€ä¸ªä»“åº“ï¼Œè¯¥ä»“åº“åŒ…å«äº†æ‰€æœ‰çš„æ–‡ä»¶ï¼Œèµ„æºå’Œç”¨äºç”Ÿæˆä¸€ä¸ªæˆ–è€…å¤šä¸ª software\r\nproducts çš„ä¿¡æ¯ã€‚å®ƒåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ª targetsï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ª target\r\næŒ‡æ˜äº†å¦‚ä½•ç”Ÿæˆ productsã€‚project ä¸ºå…¶æ‹¥æœ‰çš„æ‰€æœ‰ targets å®šä¹‰äº†é»˜è®¤çš„\r\nbuild settingsï¼Œå½“ç„¶ï¼Œæ¯ä¸€ä¸ª target èƒ½å¤Ÿåˆ¶å®šå…¶è‡ªå·±çš„ build settingsï¼Œä¸”\r\ntarget çš„ build settings ä¼šé‡å†™ project çš„ build settingsã€‚\r\nXcode project æ–‡ä»¶åŒ…å«ä»¥ä¸‹ä¿¡æ¯:\r\n\r\næºæ–‡ä»¶çš„å¼•ç”¨:\r\n\r\næºç ï¼ŒåŒ…æ‹¬å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶\r\nå†…éƒ¨å’Œå¤–éƒ¨çš„åº“æˆ–è€…æ¡†æ¶\r\nèµ„æºæ–‡ä»¶\r\nå›¾ç‰‡æ–‡ä»¶\r\nInterface Builder(nib)æ–‡ä»¶\r\n\r\næ–‡ä»¶ç»“æ„å¯¼èˆªä¸­ç”¨æ¥ç»„ç»‡æºæ–‡ä»¶çš„ç»„\r\nProject-level build configurations.ä½ å¯ä»¥ä¸º project æŒ‡å®šå¤šä¸ª build\r\nconfigurationï¼Œä¾‹å¦‚ï¼Œproject ä¸­é»˜è®¤åŒ…å« debug å’Œ release ä¸¤ç§ build\r\nsettings.\r\nTargets, æ¯ä¸€ä¸ª target æŒ‡å®šäº†ï¼š\r\n\r\nproject ç”Ÿæˆçš„ product\r\nç”Ÿæˆ product æ‰€éœ€çš„æºæ–‡ä»¶\r\nç”Ÿæˆ product æ‰€éœ€çš„é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å¯¹å…¶ä»– targets\r\nçš„ä¾èµ–ä»¥åŠä¸€äº›å…¶ä»–è®¾ç½®ï¼›å½“ targets çš„ build configurations æ²¡æœ‰é‡å†™\r\nproject-level çš„ build settings æ—¶ï¼Œä¼šç›´æ¥ä½¿ç”¨ project-level çš„ build\r\nsetting.\r\n\r\nå¯æ‰§è¡Œç¯å¢ƒï¼Œè¯¥ç¯å¢ƒç”¨äºè°ƒè¯•æˆ–è€…æµ‹è¯•ç¨‹åºï¼Œæ¯ä¸ªå¯æ‰§è¡Œç¯å¢ƒä¼šæŒ‡å®šï¼š\r\n\r\nè¿è¡Œæˆ–è€…è°ƒè¯•ç¨‹åºæ—¶åŠ è½½çš„å¯æ‰§è¡Œç¨‹åº\r\nä¼ é€’ç»™å¯æ‰§è¡Œç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°\r\nè¿è¡Œç¨‹åºæ—¶éœ€è®¾ç½®çš„ç¯å¢ƒå˜é‡\r\n\r\n\r\nproject å¯ç‹¬ç«‹å­˜åœ¨ï¼Œä¹Ÿå¯è¢«åŒ…å«åœ¨ workspace ä¸­ã€‚\r\nBuild Setting çš„ç»§æ‰¿å…³ç³»\r\nå®˜æ–¹æ–‡æ¡£å†…å®¹å¦‚ä¸‹:\r\n\r\nA build setting is a variable that contains information about how a\r\nparticular aspect of a productâ€™s build process should be performed. For\r\nexample, the information in a build setting can specify which options\r\nXcode passes to the compiler.\r\nYou can specify build settings at the project or target level. Each\r\nproject-level build setting applies to all targets in the project unless\r\nexplicitly overridden by the build settings for a specific target.\r\n\r\nbuild setting ä¸­åŒ…å«äº† product ç”Ÿæˆè¿‡ç¨‹ä¸­æ‰€éœ€çš„å‚æ•°ä¿¡æ¯ã€‚ä½ å¯ä»¥åœ¨\r\nproject-level å’Œ target-level å±‚æŒ‡å®š build settingsã€‚project-level çš„\r\nbuild settings é€‚ç”¨äº project ä¸­çš„æ‰€æœ‰targetsï¼Œä½†æ˜¯å½“ target-level çš„\r\nbuild settings é‡å†™äº† project-level çš„ build settingsï¼Œä»¥ target-level\r\nä¸­çš„ build settings ä¸­çš„å€¼ä¸ºå‡†ã€‚\r\n\r\nEach target organizes the source files needed to build one product. A\r\nbuild configuration specifies a set of build settings used to build a\r\ntarget's product in a particular way. For example, it is common to have\r\nseparate build configurations for debug and release builds of a\r\nproduct.\r\n\r\nä¸€ä¸ª build configaration æŒ‡å®šäº†ä¸€å¥— build settings ç”¨äºç”ŸæˆæŸä¸€\r\ntarget çš„ productï¼Œä¾‹å¦‚ï¼Œåœ¨ Xcode åˆ›å»ºé¡¹ç›®æ—¶é»˜è®¤å°±æœ‰ä¸¤å¥—ç‹¬ç«‹çš„ build\r\nconfigarations, åˆ†åˆ«ç”¨äºç”Ÿæˆ debug å’Œ release æ¨¡å¼ä¸‹çš„ productã€‚\r\n\r\nIn addition to the default build settings provided by Xcode when you\r\ncreate a new project from a project template, you can create\r\nuser-defined build settings for your project or for a particular target.\r\nYou can also specify conditional build settings. The value of a\r\nconditional build setting depends on whether one or more prerequisites\r\nare met. This mechanism allows you to, for example, specify the SDK to\r\nuse to build a product based on the targeted architecture.\r\n\r\né™¤äº†åˆ›å»ºå·¥ç¨‹æ—¶ç”Ÿæˆçš„é»˜è®¤ build settingsï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ project-level\r\næˆ–è€… target-level çš„ build settings.\r\nå…³äºç»§æ‰¿å…³ç³»ï¼ŒThe\r\nUnofficial Guide to xcconfig files\r\nè¿™é‡Œä¹Ÿæœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»ã€‚\r\nç°åœ¨å°±æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ build settings\r\næ¥è¾¾åˆ°æœ¬æ–‡å¼€å§‹å¤„æåˆ°çš„éœ€æ±‚.\r\nå¦‚ä½•ä½¿ç”¨\r\nxcconfig æ–‡ä»¶æ¥é…ç½®ä¸åŒå¼€å‘é˜¶æ®µçš„ç¯å¢ƒ\r\nç›®å‰å…¬å¸ä¸­çš„å¼€å‘å¤§è‡´åˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µï¼šå¼€å‘é˜¶æ®µï¼Œæ­¤æ—¶æ‰€æ‰“åŒ…éƒ½æ˜¯ä½¿ç”¨\r\ndevelopment\r\nçš„è¯ä¹¦ï¼Œæå…‰å’Œå‹ç›Ÿç»Ÿè®¡çš„è´¦å·éƒ½æ˜¯ä½¿ç”¨å¼€å‘è€…è‡ªå·±ç”³è¯·çš„è´¦å·ï¼Œwebservice\r\nçš„åœ°å€ä½¿ç”¨å¼€å‘ç¯å¢ƒåœ°å€ï¼›ç¬¬äºŒé˜¶æ®µï¼šuat\r\né˜¶æ®µï¼Œæ­¤æ—¶å±äºé¢„å‘ç‰ˆé˜¶æ®µï¼Œæ­¤æ—¶æ‰“åŒ…ä½¿ç”¨ ad-hoc\r\nçš„è¯ä¹¦ï¼Œæå…‰å’Œå‹ç›Ÿç»Ÿè®¡çš„è´¦å·ä½¿ç”¨å…¬å¸ç”³è¯·ç”Ÿæˆè´¦å·ï¼Œwebservice\r\nä½¿ç”¨çš„ç‰¹å®šçš„é¢„å‘ç‰ˆç¯å¢ƒï¼›å¦å¤–ï¼Œæ‰“ä¸Šä¼ åˆ° App Store çš„ç”Ÿäº§åŒ…ï¼Œä½¿ç”¨\r\ndistribution çš„è¯ä¹¦ï¼Œwebservice çš„åœ°å€ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒçš„åœ°å€ã€‚\r\nç”±æ­¤ï¼Œå¯æ–°å»ºä¸€ç§ build configuration, ç”± Xcode è‡ªåŠ¨ç”Ÿæˆçš„ Release\r\nå¤åˆ¶è€Œæ¥ï¼Œå¦‚ä¸‹æ‰€ç¤º:\r\n\r\næ–°å»ºConfigurations\r\nå¹¶å‘½åä¸º PreReleaseã€‚\r\nå®˜æ–¹æ–‡æ¡£Adding\r\na Build Configuration ä¸­å¦‚ä¸‹æåˆ°ï¼š\r\n\r\nA configuration file is a plain text file with a list of build\r\nsetting definitions, one per line. You can base a build configuration\r\nonly on a configuration file that is in your project, not on an external\r\nfile.\r\nWhen you base a target or projectâ€™s build configuration on a\r\nconfiguration file, that build configuration automatically inherits the\r\nbuild setting definitions in that configuration file (and any\r\nconfiguration files it includes). If you then modify the value of any of\r\nthose build settings in the target or project, the new value is used\r\ninstead of the value in the configuration file.\r\nBuild settings defined at the target level override any values\r\nassigned to those build settings at the project level. Therefore,\r\ntarget-level configurations take precedence over any project-level\r\nconfigurations.\r\n\r\nè¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼šå½“ä½ çš„ target-level æˆ–è€… project-levle çš„ build\r\nconfigurations åŸºäºé…ç½®æ–‡ä»¶æ—¶ï¼Œbuild configuration\r\nä¼šè‡ªåŠ¨ç»§æ‰¿é…ç½®æ–‡ä»¶(ä»¥åŠé…ç½®æ–‡ä»¶ä¸­å¼•å…¥çš„é…ç½®æ–‡ä»¶)ä¸­å®šä¹‰çš„ build\r\nsettingsï¼Œä½†æ˜¯å¦‚æœä½ åˆåœ¨ä¹‹å target æˆ–è€… project\r\nä¸­ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ build settings\r\nå€¼ï¼Œé‚£ä¹ˆæœ€ç»ˆé…ç½®æ–‡ä»¶ä¸­çš„å€¼ä¼šå¤±æ•ˆï¼Œå®é™…ä½¿ç”¨çš„æ˜¯ target æˆ–è€… project\r\nä¸­è®¾ç½®çš„å€¼ã€‚\r\nè¿™é‡Œé‰´äºå…¬å¸çš„æƒ…å†µï¼Œæ–°å»ºäº†\r\nDebug.xcconfig/PreRelease.xcconfig/Release.xcconfig\r\né…ç½®å¯¹åº”äºå¼€å‘é˜¶æ®µã€é¢„å‘ç‰ˆé˜¶æ®µã€ä¸Šä¼  AppStore ä¸‰ç§æƒ…å†µä¸‹çš„æ‰“åŒ…ã€‚\r\næ–°å»ºä¸€ä¸ª xcconfig ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶:\r\n\r\nåˆ›å»ºé…ç½®æ–‡ä»¶\r\næ ¹æ®é¡¹ç›®æƒ…å†µï¼Œæ¯ä¸ªé…ç½®æ–‡ä»¶ä¸­éƒ½åŒ…å«åŒæ ·çš„ key å€¼ï¼Œå†…å®¹å¤§è‡´å¦‚ä¸‹:\r\n1234567891011//ç½‘ç»œè¯·æ±‚baseurlWEBSERVICE_URL = @&quot;http:\\/\\/127.0.0.1&quot;//å‹ç›Ÿé…ç½®UMENG_APPKEY = @&quot;xxxvvv555999==&quot;//æå…‰æ¨é€é…ç½®JPUSH_DEVELOPMENT_APPKEY = @&quot;nnncccvvvwww&quot;IS_PRODUCATION = NO#include &quot;Generator.xcconfig&quot;\r\nä½ å¯åœ¨é…ç½®æ–‡ä»¶ä¸­åŒ…å«å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­ Generator.xcconfig\r\næ–‡ä»¶çš„å†…å®¹æ˜¯:\r\n1GCC_PREPROCESSOR_DEFINITIONS = $(inherited) WEBSERVICE_URL=&#x27;$(WEBSERVICE_URL)&#x27; MESSAGE_SYSTEM_URL=&#x27;$(MESSAGE_SYSTEM_URL)&#x27; UMENG_APPKEY=&#x27;$(UMENG_APPKEY)&#x27;  IS_PRODUCATION=&#x27;$(IS_PRODUCATION)&#x27;\r\nå…¶ä½œç”¨æ˜¯å°†é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¸¸é‡å®šä¹‰æˆé¢„ç¼–è¯‘å®ï¼Œä»¥ä¾¿äºåœ¨ä»£ç ä¸­è·å–ã€‚\r\nå…¶ä¸­ GCC_PREPROCESSOR_DEFINITIONS, æ–‡æ¡£å¦‚ä¸‹ï¼š\r\n\r\nSpace-separated list of option specifications. Specifies preprocessor\r\nmacros in the form foo (for a simple #define) or foo=1 (for a value\r\ndefinition). This list is passed to the compiler through the gcc -D\r\noption when compiling precompiled headers and implementation files.\r\n\r\nGCC_PREPROCESSOR_DEFINITIONS æ˜¯ GCC é¢„ç¼–è¯‘å¤´å‚æ•°ï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥åœ¨\r\nProject æ–‡ä»¶ä¸‹çš„ Build Settings å¯¹é¢„ç¼–è¯‘å®å®šä¹‰è¿›è¡Œé»˜è®¤èµ‹å€¼ã€‚åœ¨ Xcode7\r\nä¸‹çš„è·¯å¾„ä¸º Build Settings-&gt;Apple LLVM 7.x\r\nPreprocessing-&gt;Preprocessor Macrosï¼Œ\r\n\r\nGCC_PREPROCESSOR_DEFINITIONS\r\næƒ³å¿…å¤§å®¶çœ‹è¿™ä¸ªå®çš„åå­—å·²ç»çŸ¥é“å®ƒçš„ä½œç”¨äº†, ä½¿ç”¨ä¸Šå’Œåœ¨ pch\r\nå¤´æ–‡ä»¶ä¸­æ·»åŠ å®å®šä¹‰æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«, ä½†æœ‰ä»¥ä¸‹å¥½å¤„:\r\n\r\nXcode çš„ Project çš„ Build Settings æ˜¯ç”±ä¸€ä¸ª plist æ–‡ä»¶è¿›è¡Œæè¿°çš„,\r\nplist æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª XML é…ç½®æ–‡ä»¶, é€šè¿‡å¤–éƒ¨çš„è„šæœ¬æ¯”è¾ƒå®¹æ˜“å»ä¿®æ”¹ã€‚\r\nPreprocessor Macros å¯ä»¥æŒ‰ç…§ Configuration é€‰é¡¹è¿›è¡Œé»˜è®¤é…ç½®,\r\nä¹Ÿå°±æ˜¯è¯´å¯ä»¥æ ¹æ®ä¸åŒçš„ç¯å¢ƒé¢„å…ˆåˆ¶å®šä¸åŒå®šä¹‰çš„å®ï¼Œæˆ–è€…ä¸ºä¸åŒç¯å¢ƒä¸‹çš„ç›¸åŒå˜é‡å®šä¹‰ä¸åŒçš„å€¼\r\n\r\nxcconfig æ”¯æŒå¯ä»¥æ ¹æ®ä¸åŒçš„ Configuration é€‰é¡¹é…ç½®ä¸åŒçš„æ–‡ä»¶ã€‚ä¸åŒçš„\r\nxcconfig å¯ä»¥æŒ‡å®šä¸åŒçš„ Build Settings é‡Œçš„å±æ€§å€¼,\r\nè¿™æ ·å­æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é¡¹ç›® xcconfig å»ä¿®æ”¹ GCC_PREPROCESSOR_DEFINITIONS\r\nçš„å€¼äº†(æœ€ç»ˆç›®çš„å°±è¾¾åˆ°äº†)ã€‚\r\né…ç½®æ–‡ä»¶ä¸­å˜é‡å®šä¹‰å¥½ä¹‹åï¼Œæ€ä¹ˆè®© Xcode\r\nè‡ªåŠ¨åŠ è½½å‘¢ï¼Ÿå¦‚ä¸‹å›¾è®¾ç½®æ‰€ç¤ºï¼Œæ˜¯å°† project-level çš„ build settings\r\nåŸºäºé…ç½®æ–‡ä»¶ï¼Œä¸‰ç§æƒ…å†µçš„ configurations åˆ†åˆ«é€‰æ‹©ä¸ä¹‹å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚\r\n\r\nå°†é…ç½®æ–‡ä»¶ä¸é¡¹ç›®å…³è”\r\nå½“æˆ‘ä»¬æƒ³æŠŠ project-level æˆ–è€… target-level ä¸­çš„ Build Settings\r\nçš„è®¾ç½®æŒªåŠ¨åˆ° xcconfig\r\né…ç½®æ–‡ä»¶æ¥è®¾ç½®æ—¶ï¼Œæ˜¯å¦éœ€è¦ä¸€ä¸ªä¸ªæ‰‹åŠ¨è¾“å…¥å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œç›´æ¥åœ¨ Build\r\nSettings ä¸­é€‰ä¸­ä½ æƒ³è¦åœ¨ xcconfig\r\nä¸­é…ç½®çš„é”®å€¼å¯¹æ‰€åœ¨è¡Œï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥é€‰å¤šè¡Œï¼‰ï¼Œcommand +\r\ncå¤åˆ¶ï¼Œç„¶ååˆ°å¯¹åº”çš„ xcconfig ä¸­å»ç²˜è´´å°±å¥½äº†ï¼Œè®°å¾—åœ¨ Build Settings\r\nä¸­æ”¹ä¸ºä½ æƒ³è¦çš„å€¼åå†å¤åˆ¶ï¼Œå¦‚æœä¸ºé»˜è®¤å€¼çš„è¯åˆ™åªå¯å¤åˆ¶å…¶é”®ã€‚å¦‚æœéœ€è¦æ”¹å›å»çš„è¯ï¼Œè¿˜æ˜¯é€‰ä¸­è¿™è¡Œï¼Œcommand + delete\r\nå°±æ¢å¤é»˜è®¤å€¼äº†ã€‚\r\nç°åœ¨æˆ‘ä»¬å°†è®¾ç½®æŒªåŠ¨åˆ°äº†é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯é”®å€¼å¯¹ç±»å‹çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä½†æ˜¯å½“åŒä¸€ä¸ªé”®åŒæ—¶å­˜åœ¨äº\r\ntarget-levelã€project-level\r\nå’Œé…ç½®æ–‡ä»¶ä¸­æ—¶ï¼Œåˆ°åº•æ˜¯å“ªä¸€ä¸ªé”®å€¼å¯¹èµ·ä½œç”¨äº†å‘¢ï¼Ÿç°åœ¨çœ‹çœ‹ä¸‹å›¾ã€‚\r\n\r\nå¤šä¸ªé…ç½®é¡¹åˆ—\r\næ³¨æ„:\r\nXcodeä»¥ä»å·¦è‡³å³çš„é¡ºåºè®¾ç½®è§£æçš„ä¼˜å…ˆçº§ï¼Œä»å·¦è‡³å³ä¼˜å…ˆçº§é™ä½ï¼Œæœ€å·¦è¾¹çš„å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼Œå³\r\ntarget-level &gt; project-level &gt; è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ &gt; iOS\r\né»˜è®¤é…ç½®ï¼›ä¸”æœ€å·¦åˆ— Resolved åˆ—æ˜¾ç¤ºçš„æ˜¯æœ€ç»ˆä½¿ç”¨çš„å€¼ã€‚é‚£ä¹ˆå¦‚ä½•ä½¿ Xcode\r\nä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹å‘¢ï¼Ÿè¿™éœ€è¦é€‰ä¸­è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„è¡Œï¼Œç‚¹å‡» Delete\r\næŒ‰é”®ï¼Œä½ ä¼šå‘ç°é¡¹ç›®çš„é»˜è®¤è®¾ç½®å·²ç»è¢«åˆ é™¤ï¼Œä¸” xcconfig\r\nçš„é…ç½®æ–‡ä»¶åˆ—è¢«æ ‡è®°ä¸ºç»¿è‰²ã€‚æ ‡è®°ä¸ºç»¿è‰²ä»£è¡¨è¯¥åˆ—çš„å€¼ç”Ÿæ•ˆï¼Œå…¶å€¼åº”è¯¥ä¸\r\nResolved åˆ—çš„å€¼ç›¸åŒã€‚\r\næœ€åï¼Œä½ å¯ä»¥åƒå¦‚ä¸‹ç¤ºä¾‹ä½¿ç”¨ xcconfig ä¸­å®šä¹‰çš„å®ï¼š\r\n1NSLog(@&quot;webservice url: %@, umeng appkey: %@&quot;, WEBSERVICE_URL, UMENG_APPKEY);\r\né€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå°±è¾¾åˆ°äº†ä½¿ç”¨ xcconfig\r\næ–‡ä»¶æ¥é…ç½®å¼€å‘ä¸åŒé˜¶æ®µæ—¶çš„ç¯å¢ƒå˜é‡çš„ç›®çš„äº†ã€‚\r\næ–‡ä¸­å†…å®¹ä¸ºè‡ªå·±å­¦ä¹ æ€»ç»“ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„è¯·æŒ‡æ­£ã€‚å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±è¯·ç”¨å¾®ä¿¡éšæ„æ‰“èµæˆ‘å§^_^\r\n\r\n\r\nå‚è€ƒ:\r\n\r\nXcode\r\nConcepts\r\nUsing\r\nxcconfig files for your XCode Project\r\niOSå¼€å‘å¿…å¤‡\r\n- ç¯å¢ƒå˜é‡é…ç½®\r\nxcconfig-how-to-set-environment-variables\r\n\r\n","dateCreated":"2016-05-22T09:42:50+08:00","dateModified":"2024-10-21T22:51:29+08:00","datePublished":"2016-05-22T09:42:50+08:00","description":"ä¸å…¬å¸ QA\r\nèŠå¤©ï¼Œå·²ä¸æ­¢ä¸€æ¬¡è¢«åæ§½è¯´ç§»åŠ¨ç«¯ä»å¼€å‘ç¯å¢ƒè½¬åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œè¿˜è¦é ä¿®æ”¹ä»£ç æ¥é…ç½®å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚å¥¹è®¤ä¸ºï¼Œä»\r\nApp\r\nè½¬æµ‹è¯•ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç¯å¢ƒé…ç½®éƒ½æ•´åˆåˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰“ä¸åŒç¯å¢ƒä¸‹çš„å®‰è£…åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚è¿™é‡Œè¯´åˆ°çš„ç¯å¢ƒå‚æ•°åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š\r\nwebservice åœ°å€ï¼Œå‹ç›Ÿ AppKeyï¼Œæå…‰æ¨é€ AppKey\r\nå’Œæ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒæ ‡å¿—ç­‰ã€‚\r\nå…¶å®ï¼Œæˆ‘ä¹Ÿè®¨åŒä¿®æ”¹ç¯å¢ƒå‚æ•°å•Šï¼ŒğŸ˜‚\r\nä¸ºè¾¾æˆä¸Šè¿°ç›®çš„ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ Xcode çš„ Configurations Setting\r\nFile(å³åç¼€ä¸º xcconfig æ–‡ä»¶)\r\næ¥é…ç½®å¼€å‘ä¸åŒé˜¶æ®µä¸‹çš„ç¯å¢ƒã€‚æœ¬æ–‡åŒ…å«çš„å†…å®¹å¦‚ä¸‹:","headline":"Xcodeä½¿ç”¨xcconfigæ–‡ä»¶é…ç½®ç¯å¢ƒ","image":[],"mainEntityOfPage":{"@type":"WebPage","@id":"http://liumh.com/2016/05/22/use-xcconfig-config-specific-variable/"},"publisher":{"@type":"Organization","name":"CaryaLiu","sameAs":[],"image":"header.png","logo":{"@type":"ImageObject","url":"header.png"}},"url":"http://liumh.com/2016/05/22/use-xcconfig-config-specific-variable/","keywords":"iOS, Xcode"}</script>
    <meta name="description" content="ä¸å…¬å¸ QA èŠå¤©ï¼Œå·²ä¸æ­¢ä¸€æ¬¡è¢«åæ§½è¯´ç§»åŠ¨ç«¯ä»å¼€å‘ç¯å¢ƒè½¬åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œè¿˜è¦é ä¿®æ”¹ä»£ç æ¥é…ç½®å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚å¥¹è®¤ä¸ºï¼Œä» App è½¬æµ‹è¯•ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç¯å¢ƒé…ç½®éƒ½æ•´åˆåˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰“ä¸åŒç¯å¢ƒä¸‹çš„å®‰è£…åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚è¿™é‡Œè¯´åˆ°çš„ç¯å¢ƒå‚æ•°åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š webservice åœ°å€ï¼Œå‹ç›Ÿ AppKeyï¼Œæå…‰æ¨é€ AppKey å’Œæ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒæ ‡å¿—ç­‰ã€‚ å…¶">
<meta property="og:type" content="blog">
<meta property="og:title" content="Xcodeä½¿ç”¨xcconfigæ–‡ä»¶é…ç½®ç¯å¢ƒ">
<meta property="og:url" content="http://liumh.com/2016/05/22/use-xcconfig-config-specific-variable/index.html">
<meta property="og:site_name" content="CaryaLiu&#39;s blog">
<meta property="og:description" content="ä¸å…¬å¸ QA èŠå¤©ï¼Œå·²ä¸æ­¢ä¸€æ¬¡è¢«åæ§½è¯´ç§»åŠ¨ç«¯ä»å¼€å‘ç¯å¢ƒè½¬åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œè¿˜è¦é ä¿®æ”¹ä»£ç æ¥é…ç½®å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚å¥¹è®¤ä¸ºï¼Œä» App è½¬æµ‹è¯•ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç¯å¢ƒé…ç½®éƒ½æ•´åˆåˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰“ä¸åŒç¯å¢ƒä¸‹çš„å®‰è£…åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚è¿™é‡Œè¯´åˆ°çš„ç¯å¢ƒå‚æ•°åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š webservice åœ°å€ï¼Œå‹ç›Ÿ AppKeyï¼Œæå…‰æ¨é€ AppKey å’Œæ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒæ ‡å¿—ç­‰ã€‚ å…¶">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://liumh.com/img/use-xcconfig/use_xcconfig_new_configuration.png">
<meta property="og:image" content="http://liumh.com/img/use-xcconfig/use_xcconfig_new_configfile.png">
<meta property="og:image" content="http://liumh.com/img/use-xcconfig/user_xcconfig_gcc_preprocessing.png">
<meta property="og:image" content="http://liumh.com/img/use-xcconfig/use_xcconfig_linkto_configfile.png">
<meta property="og:image" content="http://liumh.com/img/use-xcconfig/use_xcconfig_valid_configuration_default.png">
<meta property="og:image" content="http://liumh.com/img/wechat_appreciate_qrcode.jpeg">
<meta property="article:published_time" content="2016-05-22T01:42:50.000Z">
<meta property="article:modified_time" content="2024-10-21T14:51:29.217Z">
<meta property="article:author" content="CaryaLiu">
<meta property="article:tag" content="iOS">
<meta property="article:tag" content="Xcode">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://liumh.com/img/use-xcconfig/use_xcconfig_new_configuration.png">
    
    
        
    
    
        <meta property="og:image" content="http://liumh.com/assets/images/header.png"/>
    
    
    
    
    <!--STYLES-->
    
<link rel="stylesheet" href="/assets/css/style-zpenvh5cbgb1vzzlq3akzblrroxrej3zx0naeyxu1vn9s3kx3bsq9s1rbqce.min.css">

    <!--STYLES END-->
    

    

    
        
    
</head>

    <body>
        <div id="blog">
            <!-- Define author's picture -->


    
        
            
        
    

<header id="header" data-behavior="4">
    <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
    <div class="header-title">
        <a
            class="header-title-link"
            href="/"
            aria-label=""
        >
            CaryaLiu&#39;s blog
        </a>
    </div>
    
        
            <a
                class="header-right-picture "
                href="#about"
                aria-label="Open the link: /#about"
            >
        
        
            <img class="header-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
        
        </a>
    
</header>

            <!-- Define author's picture -->



        
    

<nav id="sidebar" data-behavior="4">
    <div class="sidebar-container">
        
            <div class="sidebar-profile">
                <a
                    href="/#about"
                    aria-label="Read more about the author"
                >
                    <img class="sidebar-profile-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
                </a>
                <h4 class="sidebar-profile-name">CaryaLiu</h4>
                
                    <h5 class="sidebar-profile-bio"><p><span class="citation"
data-cites="Chengdu">@Chengdu</span>ï¼ŒWeChatï¼šCaryaLiu</p>
</h5>
                
            </div>
        
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/"
                            
                            rel="noopener"
                            title="Home"
                        >
                        <i class="sidebar-button-icon fa fa-home" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Home</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-categories"
                            
                            rel="noopener"
                            title="Categories"
                        >
                        <i class="sidebar-button-icon fa fa-bookmark" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Categories</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-tags"
                            
                            rel="noopener"
                            title="Tags"
                        >
                        <i class="sidebar-button-icon fa fa-tags" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Tags</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/all-archives"
                            
                            rel="noopener"
                            title="Archives"
                        >
                        <i class="sidebar-button-icon fa fa-archive" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">Archives</span>
                    </a>
            </li>
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="#about"
                            
                            rel="noopener"
                            title="About"
                        >
                        <i class="sidebar-button-icon fa fa-question" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">About</span>
                    </a>
            </li>
            
        </ul>
        
            <ul class="sidebar-buttons">
            
        </ul>
        
            <ul class="sidebar-buttons">
            
                <li class="sidebar-button">
                    
                        <a
                            class="sidebar-button-link "
                            href="/atom.xml"
                            
                            rel="noopener"
                            title="RSS"
                        >
                        <i class="sidebar-button-icon fa fa-rss" aria-hidden="true"></i>
                        <span class="sidebar-button-desc">RSS</span>
                    </a>
            </li>
            
        </ul>
        
    </div>
</nav>

            
            <div id="main" data-behavior="4"
                 class="
                        hasCoverMetaIn
                        ">
                
<article class="post">
    
    
        <div class="post-header main-content-wrap text-left">
    
        <h1 class="post-title">
            Xcodeä½¿ç”¨xcconfigæ–‡ä»¶é…ç½®ç¯å¢ƒ
        </h1>
    
    
        <div class="post-meta">
    <time datetime="2016-05-22T09:42:50+08:00">
	
		    May 22, 2016
    	
    </time>
    
</div>

    
</div>

    
    <div class="post-content markdown">
        <div class="main-content-wrap">
            <p>ä¸å…¬å¸ QA
èŠå¤©ï¼Œå·²ä¸æ­¢ä¸€æ¬¡è¢«åæ§½è¯´ç§»åŠ¨ç«¯ä»å¼€å‘ç¯å¢ƒè½¬åˆ°ç”Ÿäº§ç¯å¢ƒæ—¶ï¼Œè¿˜è¦é ä¿®æ”¹ä»£ç æ¥é…ç½®å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚å¥¹è®¤ä¸ºï¼Œä»
App
è½¬æµ‹è¯•ä¹‹åï¼Œå°±ä¸åº”è¯¥å†ä¿®æ”¹ä»£ç ï¼Œå¯ä»¥æŠŠæ‰€æœ‰çš„ç¯å¢ƒé…ç½®éƒ½æ•´åˆåˆ°é…ç½®æ–‡ä»¶ä¸­ï¼Œè¿™æ ·æ‰“ä¸åŒç¯å¢ƒä¸‹çš„å®‰è£…åŒ…æ—¶ï¼Œä¼šè‡ªåŠ¨é€‰æ‹©å¯¹åº”çš„ç¯å¢ƒå‚æ•°ã€‚è¿™é‡Œè¯´åˆ°çš„ç¯å¢ƒå‚æ•°åŒ…æ‹¬ä½†ä¸ä»…é™äºï¼š
webservice åœ°å€ï¼Œå‹ç›Ÿ AppKeyï¼Œæå…‰æ¨é€ AppKey
å’Œæ˜¯å¦æ˜¯ç”Ÿäº§ç¯å¢ƒæ ‡å¿—ç­‰ã€‚</p>
<p>å…¶å®ï¼Œæˆ‘ä¹Ÿè®¨åŒä¿®æ”¹ç¯å¢ƒå‚æ•°å•Šï¼ŒğŸ˜‚</p>
<p>ä¸ºè¾¾æˆä¸Šè¿°ç›®çš„ï¼Œä¸»è¦æ˜¯ä½¿ç”¨ Xcode çš„ Configurations Setting
File(å³åç¼€ä¸º xcconfig æ–‡ä»¶)
æ¥é…ç½®å¼€å‘ä¸åŒé˜¶æ®µä¸‹çš„ç¯å¢ƒã€‚æœ¬æ–‡åŒ…å«çš„å†…å®¹å¦‚ä¸‹:</p>
<span id="more"></span>
<ol type="1">
<li>Xcode Target</li>
<li>Xcode Project</li>
<li>Build Settingçš„ç»§æ‰¿å…³ç³»</li>
<li>å¦‚ä½•ä½¿ç”¨xcconfigæ–‡ä»¶æ¥é…ç½®ä¸åŒå¼€å‘é˜¶æ®µçš„ç¯å¢ƒ</li>
</ol>
<p>åŒ…å«äº†ä¸€äº›ä¸ build settings ç›¸å…³çš„çŸ¥è¯†ã€‚</p>
<h3 id="xcode-target">Xcode Target</h3>
<p>target, å®˜æ–¹æ–‡æ¡£å¦‚ä¸‹è§£é‡Š:</p>
<blockquote>
<p>A target specifies a product to build and contains the instructions
for building the product from a set of files in a project or workspace.
A target defines a single product; it organizes the inputs into the
build systemâ€”the source files and instructions for processing those
source filesâ€”required to build that product. Projects can contain one or
more targets, each of which produces one product.</p>
</blockquote>
<p>target å®šä¹‰äº†ç”Ÿæˆçš„å”¯ä¸€ product, å®ƒå°†æ„å»ºè¯¥ product
æ‰€éœ€çš„æ–‡ä»¶å’Œå¤„ç†è¿™äº›æ–‡ä»¶æ‰€éœ€çš„æŒ‡ä»¤é›†æ•´åˆè¿› build system ä¸­ã€‚Projects
ä¼šåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ª targets,æ¯ä¸€ä¸ª target å°†ä¼šäº§å‡ºä¸€ä¸ª product.</p>
<blockquote>
<p>The instructions for building a product take the form of build
settings and build phases, which you can examine and edit in the Xcode
project editor. <em>A target inherits the project build settings, but
you can override any of the project settings by specifying different
settings at the target level.</em> There can be only one active target
at a time; the Xcode scheme specifies the active target.</p>
</blockquote>
<p>è¿™äº›æŒ‡ä»¤ä»¥ build setting å’Œ build phases çš„å½¢å¼å­˜åœ¨ï¼Œä½ å¯åœ¨ Xcode
çš„é¡¹ç›®ç¼–è¾‘å™¨(TARGETS-&gt;Build Setting, TARGETS-&gt;Build
Phases)ä¸­è¿›è¡ŒæŸ¥çœ‹å’Œç¼–è¾‘ã€‚<em>target ä¸­çš„ build setting å‚æ•°ç»§æ‰¿è‡ª
project çš„ build settings, ä½†æ˜¯ä½ å¯ä»¥åœ¨ target ä¸­ä¿®æ”¹ä»»æ„ settings
æ¥é‡å†™ project settingsï¼Œè¿™æ ·ï¼Œæœ€ç»ˆç”Ÿæ•ˆçš„ settings å‚æ•°ä»¥åœ¨ target
ä¸­è®¾ç½®çš„ä¸ºå‡†</em>. Project å¯åŒ…å«å¤šä¸ª target, ä½†æ˜¯åœ¨åŒä¸€æ—¶åˆ»ï¼Œåªä¼šæœ‰ä¸€ä¸ª
target ç”Ÿæ•ˆï¼Œå¯ç”¨ Xcode çš„ scheme æ¥æŒ‡å®šæ˜¯å“ªä¸€ä¸ª target ç”Ÿæ•ˆ.</p>
<blockquote>
<p>A target and the product it creates can be related to another target.
If a target requires the output of another target in order to build, the
first target is said to depend upon the second. If both targets are in
the same workspace, Xcode can discover the dependency, in which case it
builds the products in the required order. Such a relationship is
referred to as an implicit dependency. You can also specify explicit
target dependencies in your build settings, and you can specify that two
targets that Xcode might expect to have an implicit dependency are
actually not dependent. For example, you might build both a library and
an application that links against that library in the same workspace.
Xcode can discover this relationship and automatically build the library
first. However, if you actually want to link against a version of the
library other than the one built in the workspace, you can create an
explicit dependency in your build settings, which overrides this
implicit dependency.</p>
</blockquote>
<p>target å’Œå…¶ç”Ÿæˆçš„ product å¯ä¸å¦ä¸€ä¸ª target æœ‰å…³ï¼Œå¦‚æœä¸€ä¸ª target çš„
build ä¾èµ–äºå¦ä¸€ä¸ª target çš„è¾“å‡ºï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±è¯´å‰ä¸€ä¸ª target ä¾èµ–äºåä¸€ä¸ª
target .å¦‚æœè¿™äº› target åœ¨åŒä¸€ä¸ª workspace ä¸­ï¼Œé‚£ä¹ˆ Xcode
èƒ½å¤Ÿå‘ç°è¿™ç§ä¾èµ–å…³ç³»ï¼Œä»è€Œä½¿å…¶ä»¥æˆ‘ä»¬æœŸæœ›çš„é¡ºåºç”Ÿæˆ
products.è¿™ç§å…³ç³»è¢«ç§°ä¸ºéšå¼ä¾èµ–å…³ç³»ã€‚åŒæ—¶ï¼Œä½ å¯ä»¥æ˜¾ç¤ºæŒ‡å®š targets
ä¹‹é—´çš„ä¾èµ–å…³ç³»ï¼Œå¹¶ä¸”è¿™ç§ä¾èµ–å…³ç³»ä¼šè¦†ç›– Xcode æ¨æµ‹å‡ºçš„éšå¼ä¾èµ–å…³ç³»ã€‚</p>
<p>æŒ‡å®š targets ä¹‹é—´çš„ä¾èµ–å…³ç³»çš„åœ°æ–¹åœ¨ Project
Editor-&gt;TRAGETS-&gt;Build Phases-&gt;Target Dependencies å¤„è®¾ç½®ã€‚</p>
<h3 id="xcode-project">Xcode Project</h3>
<p>å®˜æ–¹æ–‡æ¡£çš„è§£é‡Šå¦‚ä¸‹:</p>
<blockquote>
<p>An Xcode project is a repository for all the files, resources, and
information required to build one or more software products. A project
contains all the elements used to build your products and maintains the
relationships between those elements. It contains one or more targets,
which specify how to build products. A project defines default build
settings for all the targets in the project (each target can also
specify its own build settings, which override the project build
settings).</p>
</blockquote>
<p>Xcode project
æ˜¯ä¸€ä¸ªä»“åº“ï¼Œè¯¥ä»“åº“åŒ…å«äº†æ‰€æœ‰çš„æ–‡ä»¶ï¼Œèµ„æºå’Œç”¨äºç”Ÿæˆä¸€ä¸ªæˆ–è€…å¤šä¸ª software
products çš„ä¿¡æ¯ã€‚å®ƒåŒ…å«ä¸€ä¸ªæˆ–è€…å¤šä¸ª targetsï¼Œå…¶ä¸­çš„æ¯ä¸€ä¸ª target
æŒ‡æ˜äº†å¦‚ä½•ç”Ÿæˆ productsã€‚project ä¸ºå…¶æ‹¥æœ‰çš„æ‰€æœ‰ targets å®šä¹‰äº†é»˜è®¤çš„
build settingsï¼Œå½“ç„¶ï¼Œæ¯ä¸€ä¸ª target èƒ½å¤Ÿåˆ¶å®šå…¶è‡ªå·±çš„ build settingsï¼Œä¸”
target çš„ build settings ä¼šé‡å†™ project çš„ build settingsã€‚</p>
<p>Xcode project æ–‡ä»¶åŒ…å«ä»¥ä¸‹ä¿¡æ¯:</p>
<ul>
<li>æºæ–‡ä»¶çš„å¼•ç”¨:
<ul>
<li>æºç ï¼ŒåŒ…æ‹¬å¤´æ–‡ä»¶å’Œå®ç°æ–‡ä»¶</li>
<li>å†…éƒ¨å’Œå¤–éƒ¨çš„åº“æˆ–è€…æ¡†æ¶</li>
<li>èµ„æºæ–‡ä»¶</li>
<li>å›¾ç‰‡æ–‡ä»¶</li>
<li>Interface Builder(nib)æ–‡ä»¶</li>
</ul></li>
<li>æ–‡ä»¶ç»“æ„å¯¼èˆªä¸­ç”¨æ¥ç»„ç»‡æºæ–‡ä»¶çš„ç»„</li>
<li>Project-level build configurations.ä½ å¯ä»¥ä¸º project æŒ‡å®šå¤šä¸ª build
configurationï¼Œä¾‹å¦‚ï¼Œproject ä¸­é»˜è®¤åŒ…å« debug å’Œ release ä¸¤ç§ build
settings.</li>
<li>Targets, æ¯ä¸€ä¸ª target æŒ‡å®šäº†ï¼š
<ul>
<li>project ç”Ÿæˆçš„ product</li>
<li>ç”Ÿæˆ product æ‰€éœ€çš„æºæ–‡ä»¶</li>
<li>ç”Ÿæˆ product æ‰€éœ€çš„é…ç½®æ–‡ä»¶ï¼ŒåŒ…æ‹¬å¯¹å…¶ä»– targets
çš„ä¾èµ–ä»¥åŠä¸€äº›å…¶ä»–è®¾ç½®ï¼›å½“ targets çš„ build configurations æ²¡æœ‰é‡å†™
project-level çš„ build settings æ—¶ï¼Œä¼šç›´æ¥ä½¿ç”¨ project-level çš„ build
setting.</li>
</ul></li>
<li>å¯æ‰§è¡Œç¯å¢ƒï¼Œè¯¥ç¯å¢ƒç”¨äºè°ƒè¯•æˆ–è€…æµ‹è¯•ç¨‹åºï¼Œæ¯ä¸ªå¯æ‰§è¡Œç¯å¢ƒä¼šæŒ‡å®šï¼š
<ul>
<li>è¿è¡Œæˆ–è€…è°ƒè¯•ç¨‹åºæ—¶åŠ è½½çš„å¯æ‰§è¡Œç¨‹åº</li>
<li>ä¼ é€’ç»™å¯æ‰§è¡Œç¨‹åºçš„å‘½ä»¤è¡Œå‚æ•°</li>
<li>è¿è¡Œç¨‹åºæ—¶éœ€è®¾ç½®çš„ç¯å¢ƒå˜é‡</li>
</ul></li>
</ul>
<p>project å¯ç‹¬ç«‹å­˜åœ¨ï¼Œä¹Ÿå¯è¢«åŒ…å«åœ¨ workspace ä¸­ã€‚</p>
<h3 id="build-setting-çš„ç»§æ‰¿å…³ç³»">Build Setting çš„ç»§æ‰¿å…³ç³»</h3>
<p>å®˜æ–¹æ–‡æ¡£å†…å®¹å¦‚ä¸‹:</p>
<blockquote>
<p>A build setting is a variable that contains information about how a
particular aspect of a productâ€™s build process should be performed. For
example, the information in a build setting can specify which options
Xcode passes to the compiler.</p>
<p>You can specify build settings at the project or target level. Each
project-level build setting applies to all targets in the project unless
explicitly overridden by the build settings for a specific target.</p>
</blockquote>
<p>build setting ä¸­åŒ…å«äº† product ç”Ÿæˆè¿‡ç¨‹ä¸­æ‰€éœ€çš„å‚æ•°ä¿¡æ¯ã€‚ä½ å¯ä»¥åœ¨
project-level å’Œ target-level å±‚æŒ‡å®š build settingsã€‚project-level çš„
build settings é€‚ç”¨äº project ä¸­çš„æ‰€æœ‰targetsï¼Œä½†æ˜¯å½“ target-level çš„
build settings é‡å†™äº† project-level çš„ build settingsï¼Œä»¥ target-level
ä¸­çš„ build settings ä¸­çš„å€¼ä¸ºå‡†ã€‚</p>
<blockquote>
<p>Each target organizes the source files needed to build one product. A
build configuration specifies a set of build settings used to build a
target's product in a particular way. For example, it is common to have
separate build configurations for debug and release builds of a
product.</p>
</blockquote>
<p>ä¸€ä¸ª build configaration æŒ‡å®šäº†ä¸€å¥— build settings ç”¨äºç”ŸæˆæŸä¸€
target çš„ productï¼Œä¾‹å¦‚ï¼Œåœ¨ Xcode åˆ›å»ºé¡¹ç›®æ—¶é»˜è®¤å°±æœ‰ä¸¤å¥—ç‹¬ç«‹çš„ build
configarations, åˆ†åˆ«ç”¨äºç”Ÿæˆ debug å’Œ release æ¨¡å¼ä¸‹çš„ productã€‚</p>
<blockquote>
<p>In addition to the default build settings provided by Xcode when you
create a new project from a project template, you can create
user-defined build settings for your project or for a particular target.
You can also specify conditional build settings. The value of a
conditional build setting depends on whether one or more prerequisites
are met. This mechanism allows you to, for example, specify the SDK to
use to build a product based on the targeted architecture.</p>
</blockquote>
<p>é™¤äº†åˆ›å»ºå·¥ç¨‹æ—¶ç”Ÿæˆçš„é»˜è®¤ build settingsï¼Œä½ ä¹Ÿå¯ä»¥è‡ªå®šä¹‰ project-level
æˆ–è€… target-level çš„ build settings.</p>
<p>å…³äºç»§æ‰¿å…³ç³»ï¼Œ<a
target="_blank" rel="noopener" href="http://pewpewthespells.com/blog/xcconfig_guide.html#BuildSettingInheritance">The
Unofficial Guide to xcconfig files</a>
è¿™é‡Œä¹Ÿæœ‰è¯¦ç»†çš„è¯´æ˜ï¼Œå¼ºçƒˆå»ºè®®é˜…è¯»ã€‚</p>
<p>ç°åœ¨å°±æ¥çœ‹çœ‹å¦‚ä½•ä½¿ç”¨è‡ªå®šä¹‰çš„ build settings
æ¥è¾¾åˆ°æœ¬æ–‡å¼€å§‹å¤„æåˆ°çš„éœ€æ±‚.</p>
<h3 id="å¦‚ä½•ä½¿ç”¨-xcconfig-æ–‡ä»¶æ¥é…ç½®ä¸åŒå¼€å‘é˜¶æ®µçš„ç¯å¢ƒ">å¦‚ä½•ä½¿ç”¨
xcconfig æ–‡ä»¶æ¥é…ç½®ä¸åŒå¼€å‘é˜¶æ®µçš„ç¯å¢ƒ</h3>
<p>ç›®å‰å…¬å¸ä¸­çš„å¼€å‘å¤§è‡´åˆ†ä¸¤ä¸ªé˜¶æ®µï¼Œç¬¬ä¸€é˜¶æ®µï¼šå¼€å‘é˜¶æ®µï¼Œæ­¤æ—¶æ‰€æ‰“åŒ…éƒ½æ˜¯ä½¿ç”¨
development
çš„è¯ä¹¦ï¼Œæå…‰å’Œå‹ç›Ÿç»Ÿè®¡çš„è´¦å·éƒ½æ˜¯ä½¿ç”¨å¼€å‘è€…è‡ªå·±ç”³è¯·çš„è´¦å·ï¼Œwebservice
çš„åœ°å€ä½¿ç”¨å¼€å‘ç¯å¢ƒåœ°å€ï¼›ç¬¬äºŒé˜¶æ®µï¼šuat
é˜¶æ®µï¼Œæ­¤æ—¶å±äºé¢„å‘ç‰ˆé˜¶æ®µï¼Œæ­¤æ—¶æ‰“åŒ…ä½¿ç”¨ ad-hoc
çš„è¯ä¹¦ï¼Œæå…‰å’Œå‹ç›Ÿç»Ÿè®¡çš„è´¦å·ä½¿ç”¨å…¬å¸ç”³è¯·ç”Ÿæˆè´¦å·ï¼Œwebservice
ä½¿ç”¨çš„ç‰¹å®šçš„é¢„å‘ç‰ˆç¯å¢ƒï¼›å¦å¤–ï¼Œæ‰“ä¸Šä¼ åˆ° App Store çš„ç”Ÿäº§åŒ…ï¼Œä½¿ç”¨
distribution çš„è¯ä¹¦ï¼Œwebservice çš„åœ°å€ä½¿ç”¨ç”Ÿäº§ç¯å¢ƒçš„åœ°å€ã€‚</p>
<p>ç”±æ­¤ï¼Œå¯æ–°å»ºä¸€ç§ build configuration, ç”± Xcode è‡ªåŠ¨ç”Ÿæˆçš„ Release
å¤åˆ¶è€Œæ¥ï¼Œå¦‚ä¸‹æ‰€ç¤º:</p>
<!--![æ–°å»ºConfigurations](/img/use-xcconfig/use_xcconfig_new_configuration.png)-->
<div class="figure center" style="width:476;"><img class="fig-img" src="/img/use-xcconfig/use_xcconfig_new_configuration.png" style="width:476;height:148;"alt="æ–°å»ºConfigurations"><span class="caption">æ–°å»ºConfigurations</span></div>
<p>å¹¶å‘½åä¸º PreReleaseã€‚</p>
<p>å®˜æ–¹æ–‡æ¡£<a
target="_blank" rel="noopener" href="https://developer.apple.com/library/ios/recipes/xcode_help-project_editor/Articles/BasingBuildConfigurationsonConfigurationFiles.html#//apple_ref/doc/uid/TP40010155-CH13-SW1">Adding
a Build Configuration</a> ä¸­å¦‚ä¸‹æåˆ°ï¼š</p>
<blockquote>
<p>A configuration file is a plain text file with a list of build
setting definitions, one per line. You can base a build configuration
only on a configuration file that is in your project, not on an external
file.</p>
<p><em>When you base a target or projectâ€™s build configuration on a
configuration file, that build configuration automatically inherits the
build setting definitions in that configuration file (and any
configuration files it includes). If you then modify the value of any of
those build settings in the target or project, the new value is used
instead of the value in the configuration file.</em></p>
<p>Build settings defined at the target level override any values
assigned to those build settings at the project level. Therefore,
target-level configurations take precedence over any project-level
configurations.</p>
</blockquote>
<p>è¿™é‡Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼š<em>å½“ä½ çš„ target-level æˆ–è€… project-levle çš„ build
configurations åŸºäºé…ç½®æ–‡ä»¶æ—¶ï¼Œbuild configuration
ä¼šè‡ªåŠ¨ç»§æ‰¿é…ç½®æ–‡ä»¶(ä»¥åŠé…ç½®æ–‡ä»¶ä¸­å¼•å…¥çš„é…ç½®æ–‡ä»¶)ä¸­å®šä¹‰çš„ build
settingsï¼Œä½†æ˜¯å¦‚æœä½ åˆåœ¨ä¹‹å target æˆ–è€… project
ä¸­ä¿®æ”¹äº†é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„ build settings
å€¼ï¼Œé‚£ä¹ˆæœ€ç»ˆé…ç½®æ–‡ä»¶ä¸­çš„å€¼ä¼šå¤±æ•ˆï¼Œå®é™…ä½¿ç”¨çš„æ˜¯ target æˆ–è€… project
ä¸­è®¾ç½®çš„å€¼ã€‚</em></p>
<p>è¿™é‡Œé‰´äºå…¬å¸çš„æƒ…å†µï¼Œæ–°å»ºäº†
Debug.xcconfig/PreRelease.xcconfig/Release.xcconfig
é…ç½®å¯¹åº”äºå¼€å‘é˜¶æ®µã€é¢„å‘ç‰ˆé˜¶æ®µã€ä¸Šä¼  AppStore ä¸‰ç§æƒ…å†µä¸‹çš„æ‰“åŒ…ã€‚</p>
<p>æ–°å»ºä¸€ä¸ª xcconfig ç›®å½•ï¼Œåœ¨è¯¥ç›®å½•ä¸‹æ–°å»ºé…ç½®æ–‡ä»¶:</p>
<!--![åˆ›å»ºé…ç½®æ–‡ä»¶](/img/use-xcconfig/use_xcconfig_new_configfile.png 476 148)-->
<div class="figure center" style="width:476;"><img class="fig-img" src="/img/use-xcconfig/use_xcconfig_new_configfile.png" style="width:476;height:148;"alt="åˆ›å»ºé…ç½®æ–‡ä»¶"><span class="caption">åˆ›å»ºé…ç½®æ–‡ä»¶</span></div>
<p>æ ¹æ®é¡¹ç›®æƒ…å†µï¼Œæ¯ä¸ªé…ç½®æ–‡ä»¶ä¸­éƒ½åŒ…å«åŒæ ·çš„ key å€¼ï¼Œå†…å®¹å¤§è‡´å¦‚ä¸‹:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">//ç½‘ç»œè¯·æ±‚baseurl</span><br><span class="line">WEBSERVICE_URL = @&quot;http:\/\/127.0.0.1&quot;</span><br><span class="line"></span><br><span class="line">//å‹ç›Ÿé…ç½®</span><br><span class="line">UMENG_APPKEY = @&quot;xxxvvv555999==&quot;</span><br><span class="line"></span><br><span class="line">//æå…‰æ¨é€é…ç½®</span><br><span class="line">JPUSH_DEVELOPMENT_APPKEY = @&quot;nnncccvvvwww&quot;</span><br><span class="line">IS_PRODUCATION = NO</span><br><span class="line"></span><br><span class="line">#include &quot;Generator.xcconfig&quot;</span><br></pre></td></tr></table></figure>
<p>ä½ å¯åœ¨é…ç½®æ–‡ä»¶ä¸­åŒ…å«å…¶ä»–é…ç½®æ–‡ä»¶ï¼Œå…¶ä¸­ Generator.xcconfig
æ–‡ä»¶çš„å†…å®¹æ˜¯:</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">GCC_PREPROCESSOR_DEFINITIONS = $(inherited) WEBSERVICE_URL=&#x27;$(WEBSERVICE_URL)&#x27; MESSAGE_SYSTEM_URL=&#x27;$(MESSAGE_SYSTEM_URL)&#x27; UMENG_APPKEY=&#x27;$(UMENG_APPKEY)&#x27;  IS_PRODUCATION=&#x27;$(IS_PRODUCATION)&#x27;</span><br></pre></td></tr></table></figure>
<p>å…¶ä½œç”¨æ˜¯å°†é…ç½®æ–‡ä»¶ä¸­å®šä¹‰çš„å¸¸é‡å®šä¹‰æˆé¢„ç¼–è¯‘å®ï¼Œä»¥ä¾¿äºåœ¨ä»£ç ä¸­è·å–ã€‚</p>
<p>å…¶ä¸­ GCC_PREPROCESSOR_DEFINITIONS, æ–‡æ¡£å¦‚ä¸‹ï¼š</p>
<blockquote>
<p>Space-separated list of option specifications. Specifies preprocessor
macros in the form foo (for a simple #define) or foo=1 (for a value
definition). This list is passed to the compiler through the gcc -D
option when compiling precompiled headers and implementation files.</p>
</blockquote>
<p>GCC_PREPROCESSOR_DEFINITIONS æ˜¯ GCC é¢„ç¼–è¯‘å¤´å‚æ•°ï¼Œé€šå¸¸æˆ‘ä»¬å¯ä»¥åœ¨
Project æ–‡ä»¶ä¸‹çš„ Build Settings å¯¹é¢„ç¼–è¯‘å®å®šä¹‰è¿›è¡Œé»˜è®¤èµ‹å€¼ã€‚åœ¨ Xcode7
ä¸‹çš„è·¯å¾„ä¸º Build Settings-&gt;Apple LLVM 7.x
Preprocessing-&gt;Preprocessor Macrosï¼Œ</p>
<!-- ![GCC_PREPROCESSOR_DEFINITIONS](/img/use-xcconfig/user_xcconfig_gcc_preprocessing.png)-->
<div class="figure center" style="width:514;"><img class="fig-img" src="/img/use-xcconfig/user_xcconfig_gcc_preprocessing.png" style="width:514;height:146;"alt="GCC_PREPROCESSOR_DEFINITIONS"><span class="caption">GCC_PREPROCESSOR_DEFINITIONS</span></div>
<p>æƒ³å¿…å¤§å®¶çœ‹è¿™ä¸ªå®çš„åå­—å·²ç»çŸ¥é“å®ƒçš„ä½œç”¨äº†, ä½¿ç”¨ä¸Šå’Œåœ¨ pch
å¤´æ–‡ä»¶ä¸­æ·»åŠ å®å®šä¹‰æ²¡æœ‰å¤ªå¤§çš„åŒºåˆ«, ä½†æœ‰ä»¥ä¸‹å¥½å¤„:</p>
<ol type="1">
<li>Xcode çš„ Project çš„ Build Settings æ˜¯ç”±ä¸€ä¸ª plist æ–‡ä»¶è¿›è¡Œæè¿°çš„,
plist æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª XML é…ç½®æ–‡ä»¶, é€šè¿‡å¤–éƒ¨çš„è„šæœ¬æ¯”è¾ƒå®¹æ˜“å»ä¿®æ”¹ã€‚</li>
<li>Preprocessor Macros å¯ä»¥æŒ‰ç…§ Configuration é€‰é¡¹è¿›è¡Œé»˜è®¤é…ç½®,
ä¹Ÿå°±æ˜¯è¯´å¯ä»¥æ ¹æ®ä¸åŒçš„ç¯å¢ƒé¢„å…ˆåˆ¶å®šä¸åŒå®šä¹‰çš„å®ï¼Œæˆ–è€…ä¸ºä¸åŒç¯å¢ƒä¸‹çš„ç›¸åŒå˜é‡å®šä¹‰ä¸åŒçš„å€¼</li>
</ol>
<p>xcconfig æ”¯æŒå¯ä»¥æ ¹æ®ä¸åŒçš„ Configuration é€‰é¡¹é…ç½®ä¸åŒçš„æ–‡ä»¶ã€‚ä¸åŒçš„
xcconfig å¯ä»¥æŒ‡å®šä¸åŒçš„ Build Settings é‡Œçš„å±æ€§å€¼,
è¿™æ ·å­æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡é¡¹ç›® xcconfig å»ä¿®æ”¹ GCC_PREPROCESSOR_DEFINITIONS
çš„å€¼äº†(æœ€ç»ˆç›®çš„å°±è¾¾åˆ°äº†)ã€‚</p>
<p>é…ç½®æ–‡ä»¶ä¸­å˜é‡å®šä¹‰å¥½ä¹‹åï¼Œæ€ä¹ˆè®© Xcode
è‡ªåŠ¨åŠ è½½å‘¢ï¼Ÿå¦‚ä¸‹å›¾è®¾ç½®æ‰€ç¤ºï¼Œæ˜¯å°† project-level çš„ build settings
åŸºäºé…ç½®æ–‡ä»¶ï¼Œä¸‰ç§æƒ…å†µçš„ configurations åˆ†åˆ«é€‰æ‹©ä¸ä¹‹å¯¹åº”çš„é…ç½®æ–‡ä»¶ã€‚</p>
<!--![å°†é…ç½®æ–‡ä»¶ä¸é¡¹ç›®å…³è”](/img/use-xcconfig/use_xcconfig_linkto_configfile.png 444 232)-->
<div class="figure center" style="width:444;"><img class="fig-img" src="/img/use-xcconfig/use_xcconfig_linkto_configfile.png" style="width:444;height:232;"alt="å°†é…ç½®æ–‡ä»¶ä¸é¡¹ç›®å…³è”"><span class="caption">å°†é…ç½®æ–‡ä»¶ä¸é¡¹ç›®å…³è”</span></div>
<p>å½“æˆ‘ä»¬æƒ³æŠŠ project-level æˆ–è€… target-level ä¸­çš„ Build Settings
çš„è®¾ç½®æŒªåŠ¨åˆ° xcconfig
é…ç½®æ–‡ä»¶æ¥è®¾ç½®æ—¶ï¼Œæ˜¯å¦éœ€è¦ä¸€ä¸ªä¸ªæ‰‹åŠ¨è¾“å…¥å‘¢ï¼Ÿå½“ç„¶ä¸æ˜¯ï¼Œç›´æ¥åœ¨ Build
Settings ä¸­é€‰ä¸­ä½ æƒ³è¦åœ¨ xcconfig
ä¸­é…ç½®çš„é”®å€¼å¯¹æ‰€åœ¨è¡Œï¼ˆå½“ç„¶ä¹Ÿå¯ä»¥é€‰å¤šè¡Œï¼‰ï¼Œ<em>command +
c</em>å¤åˆ¶ï¼Œç„¶ååˆ°å¯¹åº”çš„ xcconfig ä¸­å»ç²˜è´´å°±å¥½äº†ï¼Œè®°å¾—åœ¨ Build Settings
ä¸­æ”¹ä¸ºä½ æƒ³è¦çš„å€¼åå†å¤åˆ¶ï¼Œå¦‚æœä¸ºé»˜è®¤å€¼çš„è¯åˆ™åªå¯å¤åˆ¶å…¶é”®ã€‚å¦‚æœéœ€è¦æ”¹å›å»çš„è¯ï¼Œè¿˜æ˜¯é€‰ä¸­è¿™è¡Œï¼Œ<code>command + delete</code>
å°±æ¢å¤é»˜è®¤å€¼äº†ã€‚</p>
<p>ç°åœ¨æˆ‘ä»¬å°†è®¾ç½®æŒªåŠ¨åˆ°äº†é…ç½®æ–‡ä»¶ä¸­ï¼Œæ‰€æœ‰çš„é…ç½®æ–‡ä»¶éƒ½æ˜¯é”®å€¼å¯¹ç±»å‹çš„æ–‡æœ¬æ–‡ä»¶ï¼Œä½†æ˜¯å½“åŒä¸€ä¸ªé”®åŒæ—¶å­˜åœ¨äº
target-levelã€project-level
å’Œé…ç½®æ–‡ä»¶ä¸­æ—¶ï¼Œåˆ°åº•æ˜¯å“ªä¸€ä¸ªé”®å€¼å¯¹èµ·ä½œç”¨äº†å‘¢ï¼Ÿç°åœ¨çœ‹çœ‹ä¸‹å›¾ã€‚</p>
<!--![å¤šä¸ªé…ç½®é¡¹åˆ—](/img/use-xcconfig/use_xcconfig_valid_configuration_default.png)-->
<div class="figure center" style="width:583;"><img class="fig-img" src="/img/use-xcconfig/use_xcconfig_valid_configuration_default.png" style="width:583;height:126;"alt="å¤šä¸ªé…ç½®é¡¹åˆ—"><span class="caption">å¤šä¸ªé…ç½®é¡¹åˆ—</span></div>
<p>æ³¨æ„:
Xcodeä»¥ä»å·¦è‡³å³çš„é¡ºåºè®¾ç½®è§£æçš„ä¼˜å…ˆçº§ï¼Œä»å·¦è‡³å³ä¼˜å…ˆçº§é™ä½ï¼Œæœ€å·¦è¾¹çš„å…·æœ‰æœ€é«˜ä¼˜å…ˆçº§ï¼Œå³
target-level &gt; project-level &gt; è‡ªå®šä¹‰é…ç½®æ–‡ä»¶ &gt; iOS
é»˜è®¤é…ç½®ï¼›ä¸”æœ€å·¦åˆ— Resolved åˆ—æ˜¾ç¤ºçš„æ˜¯æœ€ç»ˆä½¿ç”¨çš„å€¼ã€‚é‚£ä¹ˆå¦‚ä½•ä½¿ Xcode
ä½¿ç”¨é…ç½®æ–‡ä»¶ä¸­çš„é…ç½®é¡¹å‘¢ï¼Ÿè¿™éœ€è¦é€‰ä¸­è¦ä½¿ç”¨é…ç½®æ–‡ä»¶çš„è¡Œï¼Œç‚¹å‡» Delete
æŒ‰é”®ï¼Œä½ ä¼šå‘ç°é¡¹ç›®çš„é»˜è®¤è®¾ç½®å·²ç»è¢«åˆ é™¤ï¼Œä¸” xcconfig
çš„é…ç½®æ–‡ä»¶åˆ—è¢«æ ‡è®°ä¸ºç»¿è‰²ã€‚æ ‡è®°ä¸ºç»¿è‰²ä»£è¡¨è¯¥åˆ—çš„å€¼ç”Ÿæ•ˆï¼Œå…¶å€¼åº”è¯¥ä¸
Resolved åˆ—çš„å€¼ç›¸åŒã€‚</p>
<p>æœ€åï¼Œä½ å¯ä»¥åƒå¦‚ä¸‹ç¤ºä¾‹ä½¿ç”¨ xcconfig ä¸­å®šä¹‰çš„å®ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;webservice url: %@, umeng appkey: %@&quot;, WEBSERVICE_URL, UMENG_APPKEY);</span><br></pre></td></tr></table></figure>
<p>é€šè¿‡ä»¥ä¸Šæ­¥éª¤ï¼Œå°±è¾¾åˆ°äº†ä½¿ç”¨ xcconfig
æ–‡ä»¶æ¥é…ç½®å¼€å‘ä¸åŒé˜¶æ®µæ—¶çš„ç¯å¢ƒå˜é‡çš„ç›®çš„äº†ã€‚</p>
<p>æ–‡ä¸­å†…å®¹ä¸ºè‡ªå·±å­¦ä¹ æ€»ç»“ï¼Œå¦‚æœ‰é”™è¯¯ä¹‹å¤„è¯·æŒ‡æ­£ã€‚å¦‚æœè§‰å¾—æœ¬æ–‡å¯¹ä½ æœ‰å¸®åŠ©ï¼Œå°±è¯·ç”¨å¾®ä¿¡éšæ„æ‰“èµæˆ‘å§^_^</p>
<div class="figure center" style="width:174px;"><img class="fig-img" src="/img/wechat_appreciate_qrcode.jpeg" style="width:174px;height:174px;"alt=""></div>
<hr />
<p>å‚è€ƒ:</p>
<ul>
<li><a
target="_blank" rel="noopener" href="https://developer.apple.com/library/ios/featuredarticles/XcodeConcepts/Concept-Targets.html">Xcode
Concepts</a></li>
<li><a
target="_blank" rel="noopener" href="http://www.jontolof.com/cocoa/using-xcconfig-files-for-you-xcode-project/">Using
xcconfig files for your XCode Project</a></li>
<li><a
target="_blank" rel="noopener" href="http://blog.startry.com/2015/07/24/iOS_EnvWithXcconfig/">iOSå¼€å‘å¿…å¤‡
- ç¯å¢ƒå˜é‡é…ç½®</a></li>
<li><a
target="_blank" rel="noopener" href="http://stackoverflow.com/questions/24668284/xcconfig-how-to-set-environment-variables">xcconfig-how-to-set-environment-variables</a></li>
</ul>

            


        </div>
    </div>
    <div id="post-footer" class="post-footer main-content-wrap">
        
            <div class="post-footer-tags">
                <span class="text-color-light text-small">TAGGED IN</span><br/>
                
    <a class="tag tag--primary tag--small t-none-link" href="/tags/Xcode/" rel="tag">Xcode</a> <a class="tag tag--primary tag--small t-none-link" href="/tags/iOS/" rel="tag">iOS</a>

            </div>
        
        
            <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2016/10/03/swift-dim-background-viewcontroller/"
                    data-tooltip="åˆ›å»ºæ¨¡æ€è§†å›¾"
                    aria-label="PREVIOUS: åˆ›å»ºæ¨¡æ€è§†å›¾"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2016/01/06/ios-object-equal/"
                    data-tooltip="iOSä¸­çš„å¯¹è±¡ç­‰åŒæ€§"
                    aria-label="NEXT: iOSä¸­çš„å¯¹è±¡ç­‰åŒæ€§"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


        
        
            
        
    </div>
</article>



                <footer id="footer" class="main-content-wrap">
    <span class="copyrights">
        Copyrights &copy; 2024 CaryaLiu. All Rights Reserved.
    </span>
</footer>

            </div>
            
                <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
                    <div class="post-actions-wrap">
    <nav>
        <ul class="post-actions post-action-nav">
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2016/10/03/swift-dim-background-viewcontroller/"
                    data-tooltip="åˆ›å»ºæ¨¡æ€è§†å›¾"
                    aria-label="PREVIOUS: åˆ›å»ºæ¨¡æ€è§†å›¾"
                >
                    
                        <i class="fa fa-angle-left" aria-hidden="true"></i>
                        <span class="hide-xs hide-sm text-small icon-ml">PREVIOUS</span>
                    </a>
            </li>
            <li class="post-action">
                
                    
                <a
                    class="post-action-btn btn btn--default tooltip--top"
                    href="/2016/01/06/ios-object-equal/"
                    data-tooltip="iOSä¸­çš„å¯¹è±¡ç­‰åŒæ€§"
                    aria-label="NEXT: iOSä¸­çš„å¯¹è±¡ç­‰åŒæ€§"
                >
                    
                        <span class="hide-xs hide-sm text-small icon-mr">NEXT</span>
                        <i class="fa fa-angle-right" aria-hidden="true"></i>
                    </a>
            </li>
        </ul>
    </nav>
    <ul class="post-actions post-action-share">
        <li class="post-action hide-lg hide-md hide-sm">
            <a
                class="post-action-btn btn btn--default btn-open-shareoptions"
                href="#btn-open-shareoptions"
                aria-label="Share this post"
            >
                <i class="fa fa-share-alt" aria-hidden="true"></i>
            </a>
        </li>
        
        
            
        
        <li class="post-action">
            
                <a class="post-action-btn btn btn--default" href="#" aria-label="Back to top">
            
                <i class="fa fa-list" aria-hidden="true"></i>
            </a>
        </li>
    </ul>
</div>


                </div>
                

            
        </div>
        


    
        
    

<div id="about">
    <div id="about-card">
        <div id="about-btn-close">
            <i class="fa fa-times"></i>
        </div>
        
            <img id="about-card-picture" src="/assets/images/header.png" alt="Author&#39;s picture"/>
        
            <h4 id="about-card-name">CaryaLiu</h4>
        
            <div id="about-card-bio"><p><span class="citation"
data-cites="Chengdu">@Chengdu</span>ï¼ŒWeChatï¼šCaryaLiu</p>
</div>
        
        
            <div id="about-card-job">
                <i class="fa fa-briefcase"></i>
                <br/>
                <p>Teacher</p>

            </div>
        
        
            <div id="about-card-location">
                <i class="fa fa-map-marker-alt"></i>
                <br/>
                Chengdu
            </div>
        
    </div>
</div>

        
        
<div id="cover" style="background-image:url('/assets/images/cover.jpg');"></div>
        <!--SCRIPTS-->

<script src="/assets/js/script-cs5ywvosncuchmfbylvxzu6rf0pcfv37ilsjrqcvnjbcjeqx9g2hzm1ygmp1.min.js"></script>

<!--SCRIPTS END-->


    




    </body>
</html>
